====== Модуль Timer ======

^ Подключение          | require %%"%%timer%%"%%         |
^ Тип                  | расширение кода |
^ Зависимости          | нет                     |

===== Описание =====

Модуль позволяет получать события от таймера удобным способом.
Функцию обработчика таймера выполняет game.timer.
Если game.timer возвращает пустое значение, 
сцена не перерисовывается. В противном случае,
возвращаемое значение интерпретируется как действие.

Вы можете делать локальные для комнаты обработчики timer. Если
в комнате объявлен обработчик timer, он вызовется вместо game.timer

===== Примеры использования =====
<code lua>
game.timer = function(s)
    set_sound('gfx/beep.ogg');
    p "Timer:"
    p (time())
end
function init()
    timer:set(1000)
end
</code>

<code lua>
myroom = room  {
    entered = function(s)
        timer:set(1000);
    end;
    timer = function(s)
        timer:stop();
        goto 'myroom2';
    end;
    nam = 'Проверка таймера';
    dsc = [[Ждите.]];
}
</code>

